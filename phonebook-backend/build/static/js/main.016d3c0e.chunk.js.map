{"version":3,"sources":["Components/Filter.js","Components/PersonForm.js","Components/Persons.js","Components/Notification.js","server/Number.js","App.js","index.js"],"names":["Filter","_ref","searchName","handleChange","react_default","a","createElement","value","onChange","PersonForm","props","onSubmit","addPerson","newName","handleNameChange","newNumber","handleNumberChange","type","Persons","showNumber","removeName","map","p","key","id","name","number","onClick","Notification","message","className","baseUrl","server_Number","axios","get","then","response","data","newObject","post","delete","concat","put","App","_useState","useState","_useState2","Object","slicedToArray","persons","setPersons","_useState3","_useState4","setNewName","_useState5","_useState6","setNewNumber","_useState7","_useState8","setSearchName","_useState9","_useState10","addedMessage","setAddedMessage","_useState11","_useState12","removeMessage","setRemoveMessage","_useState13","_useState14","errorMessage","setErrorMessage","useEffect","numberServer","initialNumber","console","log","length","filter","toLowerCase","includes","Components_Filter","event","target","Components_Notification","Components_PersonForm","preventDefault","nameObject","person","window","confirm","personUpdate","find","numberChange","objectSpread","returnNumber","catch","error","setTimeout","Components_Persons","result","ReactDOM","createRoot","document","getElementById","render","src_App"],"mappings":"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","file":"static/js/main.016d3c0e.chunk.js","sourcesContent":["import React from 'react'\n\nconst Filter = ({searchName, handleChange}) =>{\n    \n\n    return(\n        <div>\n            filter shown with<input value={searchName} onChange={handleChange}/>\n        </div>\n\n    )}\n\n\n\n\n\nexport default Filter\n","import React from 'react'\n\nconst PersonForm = (props) =>{\n    return(\n        <div>\n            <form onSubmit={props.addPerson}>\n                <div>\n                name: <input value={props.newName} onChange={props.handleNameChange}/>\n                </div>\n                <div>\n                number: <input value={props.newNumber} onChange={props.handleNumberChange}/>\n                </div>\n                <div>\n                <button type=\"submit\">add</button>\n                </div>\n            </form>\n        </div>\n    )}\n\n    export default PersonForm","import React from 'react'\n\n\n\nconst Persons = ({showNumber, removeName}) =>{\n    return(\n        <div>\n            {showNumber.map((p)=> \n            <div key={p.id}>\n                {p.name} \n                {p.number}\n                <button onClick={() => removeName(p.id, p.name)}>Delete</button>\n            </div>)}\n            \n        </div>\n    )}\n\nexport default Persons","import React from \"react\";\n\nconst Notification = ({message}) => {\n    if (message === null){\n        return null\n    }\n\n    return (\n        <div className=\"added\">\n            {message}\n        </div>\n    )\n}\n\n\nexport default Notification","import axios from \"axios\";\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n    const request = axios.get(baseUrl)\n    return request.then(response => response.data)\n}\n\nconst create = newObject => {\n    const request = axios.post(baseUrl, newObject)\n    return request.then(response => response.data)\n} \n\nconst remove = id => {\n    const request = axios.delete(`${baseUrl}/${id}`)\n    return request.then(response => response.data)\n}\n\nconst update = (id, newObject) => {\n    const request = axios.put(`${baseUrl}/${id}`, newObject)\n    return request.then(response => response.data)\n}\n\nexport default {getAll, create, remove, update}","import React, { useState, useEffect} from 'react'\nimport Filter from './Components/Filter'\nimport PersonForm from './Components/PersonForm'\nimport Persons from './Components/Persons'\nimport Notification from './Components/Notification'\nimport numberServer from './server/Number'\nimport './index.css'\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [newName, setNewName] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [searchName, setSearchName] = useState('')\n  const [addedMessage, setAddedMessage] = useState(null)\n  const [removeMessage, setRemoveMessage] = useState(null)\n  const [errorMessage, setErrorMessage] = useState(null)\n\n\n\n\n  useEffect(() => {\n    numberServer.getAll().then(initialNumber => {\n        setPersons(initialNumber)\n      })\n  }, [])\n    console.log('render', persons.length, 'persons')\n\n\n\n  const handleNameChange = (event) =>{\n    console.log(event.target.value)\n    setNewName(event.target.value)\n  }\n  const handleNumberChange = (event) =>{\n    setNewNumber(event.target.value)\n  }\n  const handleSearchChange = (event) =>{\n    setSearchName(event.target.value)\n  }\n\n\n\n\n  const addPerson = (event) =>{\n    event.preventDefault()\n      const nameObject = {\n        name: newName,\n        number: newNumber,\n      }\n\n    if(persons.map(person => person.name).includes(nameObject.name)){\n      if(window.confirm(`Replace ${nameObject.number} with ${nameObject.name}?`)){\n        const personUpdate = persons.find(p => p.name === newName)\n        const numberChange = {...personUpdate, number: newNumber}\n        const id = personUpdate.id\n\n        numberServer\n            .update(id, numberChange).then(returnNumber => {\n              setPersons(persons.map(person => \n                person.id !== id ? person : returnNumber))\n            }) \n            .catch(error => {\n              setErrorMessage(`${id} was already deleted from server`)\n              setTimeout(() => {\n                setErrorMessage(null)\n              }, 5000)\n            })          \n\n            setNewName('')\n            setNewNumber('')\n\n      }\n    } else {\n      numberServer\n          .create(nameObject)\n          .then(returnNumber => {\n            setPersons(persons.concat(returnNumber))\n            setNewName('')\n            setNewNumber('')\n\n            setAddedMessage(\n              `Added ${newName} ${newNumber}`\n            )\n            setTimeout(() => {\n              setAddedMessage(null)\n            }, 5000)\n          })\n          .catch(error => {\n            setAddedMessage(\n              `Error : ${error.response.data.error}`\n            )\n            setTimeout(() => {\n              setAddedMessage(null)\n            }, 5000)\n          })\n    }}\n    \n    const removeName = (id, name) =>{\n\n      if (window.confirm(`Do you really want to delete ${name}?`)){\n        numberServer\n            .remove(id)\n            .then(result => {\n            console.log('deleted', result)\n            setPersons(persons.filter(persons => persons.id !== id))\n            setRemoveMessage(`${persons.find(p => p.id === id).name} delete successful`)\n            setTimeout(() => {\n              setRemoveMessage(null)\n            }, 5000)\n            \n      })\n            .catch(error => {\n              setRemoveMessage(\n                `${name} was already deleted`)\n              setTimeout(() => {\n                setRemoveMessage(null)\n              }, 5000)\n              setPersons(persons.filter(persons => persons.id !== id))\n            })\n      }\n    }\n  //show the searching number by name\n    const showNumber = searchName === ''\n    ? persons\n    : persons.filter(p => p.name.toLowerCase().includes(searchName.toLowerCase()))\n\n\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Filter \n        searchName={searchName} \n        handleChange={handleSearchChange}/>\n      <h2>Add a new</h2>\n      <Notification message={errorMessage} />\n      <PersonForm \n        addPerson={addPerson}\n        newName={newName}\n        handleNameChange={handleNameChange}\n        newNumber={newNumber}\n        handleNumberChange={handleNumberChange}/>\n      <Notification message={addedMessage}/>\n      <h2>Numbers</h2>\n      <Notification message={removeMessage}/>\n      <Persons \n        showNumber={showNumber} \n        removeName={removeName}/>\n    </div>\n  )\n}\n\nexport default App\n\n\n\n//previous-------------------\n//Check if name alredy exist\n    // persons.some(e => e.name === newName)\n    //   ? alert(`${newName} is already exist in phonebook`)\n    //   : numberServer\n    //       .create(nameObject)\n    //       .then(returnNumber => {\n    //         setPersons(persons.concat(returnNumber))\n    //         setNewName('')\n    //         setNewNumber('')\n\n    //         setAddedMessage(\n    //           `Added ${newName} ${newNumber}`\n    //         )\n    //         setTimeout(() => {\n    //           setAddedMessage(null)\n    //         }, 5000)\n    //       })\n    //       .catch(error => {\n    //         setAddedMessage(\n    //           `${error.response.data.error}`\n    //         )\n    //         setTimeout(() => {\n    //           setAddedMessage(null)\n    //         }, 5000)\n    //       })\n\n//person alredy exist ask for updating\n    // const personUpdate = persons.find(p => p.name === newName)\n    //   if(personUpdate){\n    //     if(window.confirm(`Replace ${personUpdate.number} with ${newNumber}?`)){\n\n    //       const numberChange = {...personUpdate, number: newNumber}\n    //       const id = personUpdate.id\n\n    //       numberServer\n    //         .update(id, numberChange).then(returnNumber => {\n    //           setPersons(persons.map(person => \n    //             person.id !== id ? person : returnNumber))\n    //         }) \n    //         .catch(error => {\n    //           setErrorMessage(`${id} was already deleted from server`)\n    //           setTimeout(() => {\n    //             setErrorMessage(null)\n    //           }, 5000)\n    //         })          \n\n    //         setNewName('')\n    //         setNewNumber('')\n    //     }\n    //   }        \n  \n\n\n","import React from 'react'\nimport ReactDOM from 'react-dom/client'\n\n\nimport App from './App'\n\n\n\nReactDOM.createRoot(document.getElementById('root')).render(<App />)\n"],"sourceRoot":""}