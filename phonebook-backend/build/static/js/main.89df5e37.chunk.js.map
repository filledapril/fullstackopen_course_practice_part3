{"version":3,"sources":["Components/Filter.js","Components/PersonForm.js","Components/Persons.js","Components/Notification.js","server/Number.js","App.js","index.js"],"names":["Filter","_ref","searchName","handleChange","react_default","a","createElement","value","onChange","PersonForm","props","onSubmit","addPerson","newName","handleNameChange","newNumber","handleNumberChange","type","Persons","showNumber","removeName","map","p","key","id","name","number","onClick","Notification","message","className","baseUrl","server_Number","axios","get","then","response","data","newObject","post","delete","concat","put","App","_useState","useState","_useState2","Object","slicedToArray","persons","setPersons","_useState3","_useState4","setNewName","_useState5","_useState6","setNewNumber","_useState7","_useState8","setSearchName","_useState9","_useState10","addedMessage","setAddedMessage","_useState11","_useState12","removeMessage","setRemoveMessage","_useState13","_useState14","errorMessage","setErrorMessage","useEffect","numberServer","initialNumber","console","log","length","filter","toLowerCase","includes","Components_Filter","event","target","Components_Notification","Components_PersonForm","preventDefault","nameObject","some","e","alert","returnNumber","setTimeout","personUpdate","find","window","confirm","numberChange","objectSpread","person","catch","error","Components_Persons","ReactDOM","createRoot","document","getElementById","render","src_App"],"mappings":"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","file":"static/js/main.89df5e37.chunk.js","sourcesContent":["import React from 'react'\n\nconst Filter = ({searchName, handleChange}) =>{\n    \n\n    return(\n        <div>\n            filter shown with<input value={searchName} onChange={handleChange}/>\n        </div>\n\n    )}\n\n\n\n\n\nexport default Filter\n","import React from 'react'\n\nconst PersonForm = (props) =>{\n    return(\n        <div>\n            <form onSubmit={props.addPerson}>\n                <div>\n                name: <input value={props.newName} onChange={props.handleNameChange}/>\n                </div>\n                <div>\n                number: <input value={props.newNumber} onChange={props.handleNumberChange}/>\n                </div>\n                <div>\n                <button type=\"submit\">add</button>\n                </div>\n            </form>\n        </div>\n    )}\n\n    export default PersonForm","import React from 'react'\n\n\n\nconst Persons = ({showNumber, removeName}) =>{\n    return(\n        <div>\n            {showNumber.map((p)=> \n            <div key={p.id}>\n                {p.name} \n                {p.number}\n                <button onClick={() => removeName(p.id)}>Delete</button>\n            </div>)}\n            \n        </div>\n    )}\n\nexport default Persons","import React from \"react\";\n\nconst Notification = ({message}) => {\n    if (message === null){\n        return null\n    }\n\n    return (\n        <div className=\"added\">\n            {message}\n        </div>\n    )\n}\n\n\nexport default Notification","import axios from \"axios\";\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n    const request = axios.get(baseUrl)\n    return request.then(response => response.data)\n}\n\nconst create = newObject => {\n    const request = axios.post(baseUrl, newObject)\n    return request.then(response => response.data)\n} \n\nconst remove = id => {\n    const request = axios.delete(`${baseUrl}/${id}`)\n    return request.then(response => response.data)\n}\n\nconst update = (id, newObject) => {\n    const request = axios.put(`${baseUrl}/${id}`, newObject)\n    return request.then(response => response.data)\n}\n\nexport default {getAll, create, remove, update}","import React, { useState, useEffect} from 'react'\nimport Filter from './Components/Filter'\nimport PersonForm from './Components/PersonForm'\nimport Persons from './Components/Persons'\nimport Notification from './Components/Notification'\nimport numberServer from './server/Number'\nimport './index.css'\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [newName, setNewName] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [searchName, setSearchName] = useState('')\n  const [addedMessage, setAddedMessage] = useState(null)\n  const [removeMessage, setRemoveMessage] = useState(null)\n  const [errorMessage, setErrorMessage] = useState(null)\n\n\n\n  useEffect(() => {\n    numberServer.getAll().then(initialNumber => {\n        setPersons(initialNumber)\n      })\n  }, [])\n    console.log('render', persons.length, 'persons')\n\n\n\n  const handleNameChange = (event) =>{\n    console.log(event.target.value)\n    setNewName(event.target.value)\n  }\n  const handleNumberChange = (event) =>{\n    setNewNumber(event.target.value)\n  }\n  const handleSearchChange = (event) =>{\n    setSearchName(event.target.value)\n  }\n\n\n\n\n  const addPerson = (event) =>{\n    event.preventDefault()\n      const nameObject = {\n        name: newName,\n        number: newNumber,\n        id: newName,\n      }\n    \n//Check if name alredy exist, if not, add person\n    persons.some(e => e.name === newName)\n      ? alert(`${newName} is already exist in phonebook`)\n      : numberServer\n          .create(nameObject)\n          .then(returnNumber => {\n            setPersons(persons.concat(returnNumber))\n            setNewName('')\n            setNewNumber('')\n\n            setAddedMessage(\n              `Added ${newName} - ${newNumber}`\n            )\n            setTimeout(() => {\n              setAddedMessage(null)\n            }, 5000)\n          })\n\n//person alredy exist ask for updating\n    const personUpdate = persons.find(p => p.name === newName)\n      if(personUpdate){\n        if(window.confirm(`Replace ${personUpdate.number} with ${newNumber}?`)){\n\n          const numberChange = {...personUpdate, number: newNumber}\n          const id = personUpdate.id\n\n          numberServer\n            .update(id, numberChange).then(returnNumber => {\n              setPersons(persons.map(person => \n                person.id !== id ? person : returnNumber))\n            }) \n            .catch(error => {\n              setErrorMessage(`${id} was already deleted from server`)\n              setTimeout(() => {\n                setErrorMessage(null)\n              }, 5000)\n            })          \n\n            setNewName('')\n            setNewNumber('')\n        }\n      }        \n  }\n\n\n    const removeName = (id) =>{\n      if (window.confirm(`Do you really want to delete ${id}?`)){\n        numberServer.remove(id).then(() => {\n            setPersons(persons.filter(persons => persons.id !== id))\n            setRemoveMessage(`${id} delete successful`)\n            setTimeout(() => {\n              setRemoveMessage(null)\n            }, 5000)\n      })\n        .catch(error => {\n          setRemoveMessage(\n            `${id} was already deleted`)\n          setTimeout(() => {\n            setRemoveMessage(null)\n          }, 5000)\n          setPersons(persons.filter(persons => persons.id !== id))\n        })\n      }\n    }\n  //show the searching number by name\n    const showNumber = searchName === ''\n    ? persons\n    : persons.filter(p => p.name.toLowerCase().includes(searchName.toLowerCase()))\n\n\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Filter \n        searchName={searchName} \n        handleChange={handleSearchChange}/>\n      <h2>Add a new</h2>\n      <Notification message={errorMessage} />\n      <PersonForm \n        addPerson={addPerson}\n        newName={newName}\n        handleNameChange={handleNameChange}\n        newNumber={newNumber}\n        handleNumberChange={handleNumberChange}/>\n      <Notification message={addedMessage}/>\n      <h2>Numbers</h2>\n      <Notification message={removeMessage}/>\n      <Persons \n        showNumber={showNumber} \n        removeName={removeName}/>\n    </div>\n  )\n}\n\nexport default App","import React from 'react'\nimport ReactDOM from 'react-dom/client'\n\n\nimport App from './App'\n\n\n\nReactDOM.createRoot(document.getElementById('root')).render(<App />)\n"],"sourceRoot":""}